<ion-app>
  <ion-menu side="start" menuId="main-menu" contentId="main-content">
    <ion-header>
      <ion-toolbar style="--background: #b22222; color: #ffffff;">
        <ion-title style="font-family: 'Hurricane', cursive; font-size: 2.1rem;">Primo Pizza</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content class="menu-content">
      <ion-list>
        <ion-item routerLink="/home" lines="none">
          <ion-icon name="home-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Home</ion-label>
        </ion-item>

        <ion-item routerLink="/menu" lines="none">
          <ion-icon name="pizza-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Menu</ion-label>
        </ion-item>

        <ion-item routerLink="/cart" lines="none">
          <ion-icon name="cart-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white; display: flex; align-items: center; justify-content: space-between; width: 100%;">
            Cart
            <ion-badge color="light" *ngIf="cartCount > 0">{{ cartCount }}</ion-badge>
          </ion-label>
        </ion-item>

        <ion-item button (click)="openOrdersModal()" lines="none">
          <ion-icon name="receipt-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white; display: flex; align-items: center; justify-content: space-between; width: 100%;">
            Orders
            <ion-badge color="light" *ngIf="ordersCount > 0">{{ ordersCount }}</ion-badge>
          </ion-label>
        </ion-item>

        <ion-item routerLink="/about" lines="none">
          <ion-icon name="information-circle-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">About the App</ion-label>
        </ion-item>

        <ion-item routerLink="/company-history" lines="none">
          <ion-icon name="business-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Company History</ion-label>
        </ion-item>

        <ion-item routerLink="/developers" lines="none">
          <ion-icon name="people-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Developers</ion-label>
        </ion-item>

        <ion-item routerLink="/contact-us" lines="none">
          <ion-icon name="call-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Contact Us</ion-label>
        </ion-item>

        <ion-item *ngIf="isAdmin" routerLink="/admin-dashboard" lines="none">
          <ion-icon name="settings-outline" slot="start" style="color: white;"></ion-icon>
          <ion-label style="color: white;">Admin Dashboard</ion-label>
        </ion-item>
      </ion-list>

      <div style="position: absolute; bottom: 0; width: 100%; padding: 1rem;">
        <div *ngIf="!isLoggedIn">
          <ion-button expand="block" color="light" fill="solid" routerLink="/login">
            <ion-icon name="log-in-outline" slot="start"></ion-icon>
            Login
          </ion-button>
        </div>

        <div *ngIf="isLoggedIn" class="user-section ion-text-center">
          <div class="user-info">
            <ion-icon name="person-circle-outline" color="light" style="font-size: 48px;"></ion-icon>
            <p>{{ userData?.user?.email || 'User' }}</p>
          </div>
          <ion-button expand="block" color="light" fill="solid" (click)="logout()">
            <ion-icon name="log-out-outline" slot="start"></ion-icon>
            Logout
          </ion-button>
        </div>
      </div>
    </ion-content>
  </ion-menu>

  <div id="main-content" class="main-layout">
    <app-navbar></app-navbar>
    <ion-content fullscreen>
      <ion-router-outlet></ion-router-outlet>
    </ion-content>
  </div>
</ion-app>
